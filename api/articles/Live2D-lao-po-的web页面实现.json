{"title":"Live2D(lao)(po)的web页面实现","slug":"Live2D-lao-po-的web页面实现","date":"2018-04-17T08:22:18.000Z","updated":"2018-04-17T08:26:42.749Z","comments":true,"excerpt":"","content":"<h1 id=\"当live2D到web页面\"><a href=\"#当live2D到web页面\" class=\"headerlink\" title=\"当live2D到web页面\"></a>当live2D到web页面</h1><p>之前写了在博客上运用npm模块实现live2D，现在把web页面上的live2D的坑一填。live2D之前主要运用在游戏方面，web方面的运用并不是很多。但是需求是需要满足的，我们要怎么实现web端的live2D呢？好在WebGL已经搞定了这个最难的部分，提供了官方的SDK。</p>\n<p>[SDK下载]：Live2D_SDK_WebGL_2.0.05_1_en.zip</p>\n<p>下载之后我们开始对SDK经行分析</p>\n<h1 id=\"文件目录\"><a href=\"#文件目录\" class=\"headerlink\" title=\"文件目录\"></a>文件目录</h1><p><img src=\"http://p6894qyp6.bkt.clouddn.com/2d.png\" alt=\"\"></p>\n<ul>\n<li>framework：framework框架的js文件</li>\n<li>lib：live2d的js文件</li>\n<li>sample：官方给的例子，SampleApp1是比较完整的例子，Sample和SimpleMultiCanves只是类似于gif的效果<blockquote>\n<p>需要注意的是live2d的SDK会牵扯到跨域问题，以下是在chrome下的问题，把文件夹放到服务器上可以解决，或者用Edge打开html文件<br><img src=\"http://p6894qyp6.bkt.clouddn.com/ky.png\" alt=\"\"></p>\n</blockquote>\n</li>\n</ul>\n<h1 id=\"SampleApp1分析\"><a href=\"#SampleApp1分析\" class=\"headerlink\" title=\"SampleApp1分析\"></a>SampleApp1分析</h1><h2 id=\"assets\"><a href=\"#assets\" class=\"headerlink\" title=\"assets\"></a>assets</h2><ul>\n<li>images：示例里面的背景图片</li>\n<li>live2d：live2d的模型和动作数据，文件夹名称为模型的名字</li>\n</ul>\n<h3 id=\"模型包文件-例：shizuku\"><a href=\"#模型包文件-例：shizuku\" class=\"headerlink\" title=\"模型包文件(例：shizuku)\"></a>模型包文件(例：shizuku)</h3><ul>\n<li>expresssions：表情的配置文件，json格式</li>\n<li>motions：动作文件，只要处理点击时候的动作，mtn文件</li>\n<li>shizuku.1024：人物的肉体图片（尸块），png文件</li>\n<li>sounds：声音文件，有些模型没有，mp3文件</li>\n<li>shizuku.model.json：对上面各个文件夹中的文件经行引入</li>\n</ul>\n<h3 id=\"src\"><a href=\"#src\" class=\"headerlink\" title=\"src\"></a>src</h3><ul>\n<li>LAppDefine.js：对模型的定义</li>\n<li>LAppLive2DManger.js：对模型的创建和切换等等</li>\n<li>SampleApp.js：在这个文件中有一个参数需要特别注意，在文件34行，initL2dCanvas(“glCanvas”)；这里括号内的字符串是在HTML文件上canvas的ID，这样才能完成页面的渲染。</li>\n</ul>\n<p>SampleApp.js:</p>\n<p><img src=\"http://p6894qyp6.bkt.clouddn.com/in.png\" alt=\"\"></p>\n<p>index.html:</p>\n<p><img src=\"http://p6894qyp6.bkt.clouddn.com/ht.png\" alt=\"\"></p>\n<h2 id=\"HTML文件\"><a href=\"#HTML文件\" class=\"headerlink\" title=\"HTML文件\"></a>HTML文件</h2><p>把相应的文件引入即可，之后设置canvas就行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE HTML&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;script src=&apos;lib/live2d.min.js&apos;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&apos;framework/Live2DFramework.js&apos;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/utils/MatrixStack.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/utils/ModelSettingJson.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/PlatformManager.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/LAppDefine.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/LAppModel.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/LAppLive2DManager.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script src=&quot;src/SampleApp1.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;canvas id=&quot;glCanvas&quot; width=&quot;450px&quot; height=&quot;500px&quot; style=&quot;position:fixed;right:0px;bottom:-10px;&quot;&gt;</span><br><span class=\"line\">    &lt;/canvas&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">      SampleApp1();</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>\n<ul>\n<li>canvas的id要和SampleApp.js中定义的一样，上面强调过</li>\n<li>canvas的width和height就是live2d的宽高</li>\n<li>canvas的position：定义在页面上的位置</li>\n<li>SampleApp1()：执行SampleApp1文件</li>\n</ul>\n<p>如果不想用切换模型功能可以把LAppLive2DManager.js中有change部分的函数注释掉，再修改LAppDefine。</p>\n<h1 id=\"在live2d上越走越远…\"><a href=\"#在live2d上越走越远…\" class=\"headerlink\" title=\"在live2d上越走越远…\"></a>在live2d上越走越远…</h1><p>这样就完成了html文件上live2d的引用，关于live2d的模型包可以从一些手游的apk解包获得，或者去网上下载。之后可能会写一下apk的解包，说不定也会看看live2d的动作设计，嘛，这都是之后的事了…</p>\n","thumbnail":"http://p6894qyp6.bkt.clouddn.com/68087758_p0.jpg","categories":[],"tags":[{"name":"live2D","path":"api/tags/live2D.json"}]}